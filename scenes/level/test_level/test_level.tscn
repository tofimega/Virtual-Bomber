[gd_scene load_steps=65 format=4 uid="uid://cb25rkkl8la8e"]

[ext_resource type="Script" path="res://scenes/level/test_level/test_level.gd" id="1_c5ww6"]
[ext_resource type="Script" path="res://scenes/level/test_level/tile_map.gd" id="2_6jbxw"]
[ext_resource type="Texture2D" uid="uid://150ae7lopuoh" path="res://assets/images/tiles/wall/wall tile bottom.png" id="2_fhyya"]
[ext_resource type="Texture2D" uid="uid://c4btm74yg30mi" path="res://assets/images/tiles/wall/wall tile top.png" id="3_g7070"]
[ext_resource type="PackedScene" uid="uid://df00v3oshlyt4" path="res://scenes/level/tiles/crate/crate.tscn" id="4_1a2yv"]
[ext_resource type="PackedScene" uid="uid://ch521y8ie364i" path="res://scenes/level/tiles/wall.tscn" id="5_mqyap"]
[ext_resource type="PackedScene" uid="uid://2yno1n7e6yhx" path="res://scenes/level/player_spawn/player_spawn.tscn" id="6_qcm86"]
[ext_resource type="PackedScene" uid="uid://cfb0dtik3eo17" path="res://scenes/actors/enemy/base_enemy/base_enemy.tscn" id="7_bfspc"]
[ext_resource type="Texture2D" uid="uid://ds7rrhu04sc0d" path="res://assets/images/tiles/floor/sprite_00.png" id="7_kxa54"]
[ext_resource type="Texture2D" uid="uid://dad5s4eqbrqby" path="res://assets/images/tiles/floor/sprite_01.png" id="8_1gefl"]
[ext_resource type="PackedScene" uid="uid://bcwmsyq4opwhq" path="res://scenes/actors/enemy/ghost_enemy/ghost_enemy.tscn" id="8_kgv25"]
[ext_resource type="Texture2D" uid="uid://tsv4yiac64f6" path="res://assets/images/tiles/floor/sprite_02.png" id="9_0csw1"]
[ext_resource type="PackedScene" uid="uid://d3jnl5bs6ep2a" path="res://scenes/actors/enemy/smart_enemy/smart_enemy.tscn" id="9_emljx"]
[ext_resource type="PackedScene" uid="uid://bifavgvgolnam" path="res://scenes/actors/enemy/chaser_enemy/chaser_enemy.tscn" id="10_4pgx3"]
[ext_resource type="Texture2D" uid="uid://dilvjyy42t0g6" path="res://assets/images/tiles/floor/sprite_03.png" id="10_mfv7w"]
[ext_resource type="Texture2D" uid="uid://bbfaas1w4xfa3" path="res://assets/images/tiles/floor/sprite_04.png" id="11_3w41y"]
[ext_resource type="Texture2D" uid="uid://cac12ousvef43" path="res://assets/images/tiles/floor/sprite_05.png" id="12_7blq0"]
[ext_resource type="Texture2D" uid="uid://byx0gx56rq33r" path="res://assets/images/tiles/floor/sprite_06.png" id="13_xp0ep"]
[ext_resource type="Texture2D" uid="uid://b27qa17hsd1bu" path="res://assets/images/tiles/floor/sprite_07.png" id="14_h57so"]
[ext_resource type="Texture2D" uid="uid://cptkkfkkg5chs" path="res://assets/images/tiles/floor/sprite_08.png" id="15_t1l5m"]
[ext_resource type="Texture2D" uid="uid://duymjaxqs6d1s" path="res://assets/images/tiles/floor/sprite_09.png" id="16_utqen"]
[ext_resource type="Texture2D" uid="uid://c2307l3wlplcy" path="res://assets/images/tiles/floor/sprite_10.png" id="17_lmrwl"]
[ext_resource type="Texture2D" uid="uid://cec62a5qouk0d" path="res://assets/images/tiles/floor/sprite_11.png" id="18_8nuh2"]
[ext_resource type="Texture2D" uid="uid://7qaxj4nxfcht" path="res://assets/images/tiles/floor/sprite_12.png" id="19_6qtyn"]
[ext_resource type="Texture2D" uid="uid://crb5hm6e41bhl" path="res://assets/images/tiles/floor/sprite_13.png" id="20_3xbus"]
[ext_resource type="Texture2D" uid="uid://ib2sdutayfvw" path="res://assets/images/tiles/floor/sprite_14.png" id="21_52l44"]
[ext_resource type="Texture2D" uid="uid://b6gheg380eire" path="res://assets/images/tiles/floor/sprite_15.png" id="22_8oekp"]
[ext_resource type="Texture2D" uid="uid://da3upw5w2hlk3" path="res://assets/images/tiles/floor/sprite_16.png" id="23_0hg3t"]
[ext_resource type="Texture2D" uid="uid://dqbdgmuq7bk3u" path="res://assets/images/tiles/floor/sprite_17.png" id="24_gwq3f"]
[ext_resource type="Texture2D" uid="uid://c3as0j7h3cjta" path="res://assets/images/tiles/floor/sprite_18.png" id="25_kwsvd"]
[ext_resource type="Texture2D" uid="uid://df33oi1v3gu0x" path="res://assets/images/tiles/floor/sprite_19.png" id="26_bedjd"]
[ext_resource type="Texture2D" uid="uid://b2lyv5hxqsofi" path="res://assets/images/tiles/floor/sprite_20.png" id="27_jlrwk"]
[ext_resource type="Texture2D" uid="uid://bqtushn1aq8lm" path="res://assets/images/tiles/floor/sprite_21.png" id="28_ujn1f"]
[ext_resource type="Texture2D" uid="uid://do2j4gnbnhr2f" path="res://assets/images/tiles/floor/sprite_22.png" id="29_lgscg"]
[ext_resource type="Texture2D" uid="uid://cieg48ham1ra1" path="res://assets/images/tiles/floor/sprite_23.png" id="30_uxtgk"]
[ext_resource type="Texture2D" uid="uid://bjux3n51mi4kp" path="res://assets/images/tiles/floor/sprite_24.png" id="31_2rk1e"]
[ext_resource type="Texture2D" uid="uid://cc1efks4cf5ls" path="res://assets/images/tiles/floor/sprite_25.png" id="32_2lbeq"]
[ext_resource type="Texture2D" uid="uid://pofwwg6oa4ke" path="res://assets/images/tiles/floor/sprite_26.png" id="33_lcxbc"]
[ext_resource type="Texture2D" uid="uid://ba52nlbwpq7ie" path="res://assets/images/tiles/floor/sprite_27.png" id="34_ym5v0"]
[ext_resource type="Texture2D" uid="uid://c3v15f05j11wd" path="res://assets/images/tiles/floor/sprite_28.png" id="35_uy3sb"]
[ext_resource type="Texture2D" uid="uid://btthuiqvn0evq" path="res://assets/images/tiles/floor/sprite_29.png" id="36_nhmji"]
[ext_resource type="Texture2D" uid="uid://c0f16yl7ehqw8" path="res://assets/images/tiles/floor/sprite_30.png" id="37_xjs3m"]
[ext_resource type="Texture2D" uid="uid://be8y8nqu7t40y" path="res://assets/images/tiles/floor/sprite_31.png" id="38_lbfck"]
[ext_resource type="Texture2D" uid="uid://dvq7dvhuf2qml" path="res://assets/images/tiles/floor/sprite_32.png" id="39_80l6g"]
[ext_resource type="Texture2D" uid="uid://tlplahly6u0f" path="res://assets/images/tiles/floor/sprite_33.png" id="40_ka81h"]
[ext_resource type="Texture2D" uid="uid://djevbkafqd17y" path="res://assets/images/tiles/floor/sprite_34.png" id="41_tcm0g"]
[ext_resource type="Texture2D" uid="uid://bwt4tbbfpu4j8" path="res://assets/images/tiles/floor/sprite_35.png" id="42_f8e0y"]
[ext_resource type="Texture2D" uid="uid://by506jm67bura" path="res://assets/images/tiles/floor/sprite_36.png" id="43_1qwdb"]
[ext_resource type="Texture2D" uid="uid://x84vmlmsxx5c" path="res://assets/images/tiles/floor/sprite_37.png" id="44_yghwc"]
[ext_resource type="Texture2D" uid="uid://crcrke1e74l1g" path="res://assets/images/tiles/floor/sprite_38.png" id="45_7sp5x"]
[ext_resource type="Texture2D" uid="uid://cqpaqs4ifc0g" path="res://assets/images/tiles/floor/sprite_40.png" id="46_ygyu3"]
[ext_resource type="Texture2D" uid="uid://dxt63j4tcvii6" path="res://assets/images/tiles/floor/sprite_44.png" id="47_2k4pn"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_7bh2f"]
texture = ExtResource("2_fhyya")
texture_region_size = Vector2i(32, 36)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_tllwi"]
texture = ExtResource("3_g7070")
texture_region_size = Vector2i(32, 36)
0:0/0 = 0
0:0/0/y_sort_origin = 7

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_gacle"]
resource_name = "Tiles"
scenes/1/scene = ExtResource("4_1a2yv")
scenes/2/scene = ExtResource("5_mqyap")

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_wbygu"]
resource_name = "Objects"
scenes/0/scene = ExtResource("6_qcm86")
scenes/1/scene = ExtResource("7_bfspc")
scenes/2/scene = ExtResource("8_kgv25")
scenes/3/scene = ExtResource("9_emljx")
scenes/4/scene = ExtResource("10_4pgx3")

[sub_resource type="TileSet" id="TileSet_w2j1e"]
tile_size = Vector2i(32, 32)
sources/0 = SubResource("TileSetAtlasSource_7bh2f")
sources/1 = SubResource("TileSetAtlasSource_tllwi")
sources/2 = SubResource("TileSetScenesCollectionSource_gacle")
sources/3 = SubResource("TileSetScenesCollectionSource_wbygu")

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_bd05x"]
normal = Vector2(0, 1)
distance = 10.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_u7ry1"]
distance = 10.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_6vmih"]
normal = Vector2(1, 0)
distance = 23.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_842i1"]
normal = Vector2(-1, 0)
distance = 11.0

[sub_resource type="Animation" id="Animation_tdtyy"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("7_kxa54")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:region_enabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:region_rect")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Rect2(0, 0, 32, 32)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".:texture_repeat")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [2]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath(".:z_index")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [-1]
}

[sub_resource type="Animation" id="Animation_e0ny2"]
resource_name = "floor animation"
length = 3.1
loop_mode = 1
step = 0.025
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.95, 1.975, 2, 2.025, 2.05, 2.075, 2.1, 2.125, 2.15, 2.175, 2.2, 2.225, 2.25, 2.275, 2.3, 2.325, 2.35, 2.375, 2.4, 2.425, 2.45, 2.475, 2.5, 2.525, 2.55, 2.575, 2.6, 2.625, 2.65, 2.675, 2.7, 2.725, 2.75, 2.775, 2.8, 2.825, 2.85, 2.875, 2.925, 3.025),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [ExtResource("7_kxa54"), ExtResource("8_1gefl"), ExtResource("9_0csw1"), ExtResource("10_mfv7w"), ExtResource("11_3w41y"), ExtResource("12_7blq0"), ExtResource("13_xp0ep"), ExtResource("14_h57so"), ExtResource("15_t1l5m"), ExtResource("16_utqen"), ExtResource("17_lmrwl"), ExtResource("18_8nuh2"), ExtResource("19_6qtyn"), ExtResource("20_3xbus"), ExtResource("21_52l44"), ExtResource("22_8oekp"), ExtResource("23_0hg3t"), ExtResource("24_gwq3f"), ExtResource("25_kwsvd"), ExtResource("26_bedjd"), ExtResource("27_jlrwk"), ExtResource("28_ujn1f"), ExtResource("29_lgscg"), ExtResource("30_uxtgk"), ExtResource("31_2rk1e"), ExtResource("32_2lbeq"), ExtResource("33_lcxbc"), ExtResource("34_ym5v0"), ExtResource("35_uy3sb"), ExtResource("36_nhmji"), ExtResource("37_xjs3m"), ExtResource("38_lbfck"), ExtResource("39_80l6g"), ExtResource("40_ka81h"), ExtResource("41_tcm0g"), ExtResource("42_f8e0y"), ExtResource("43_1qwdb"), ExtResource("44_yghwc"), ExtResource("45_7sp5x"), ExtResource("46_ygyu3"), ExtResource("47_2k4pn")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:region_enabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:region_rect")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Rect2(0, 0, 448, 448)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".:texture_repeat")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [2]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath(".:z_index")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [-1]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_02ve3"]
_data = {
"RESET": SubResource("Animation_tdtyy"),
"floor animation": SubResource("Animation_e0ny2")
}

[node name="TestLevel" type="Node2D"]
y_sort_enabled = true
position = Vector2(0, -2)
script = ExtResource("1_c5ww6")

[node name="TileMap" type="Node2D" parent="." groups=["Level Grid"]]
y_sort_enabled = true
script = ExtResource("2_6jbxw")

[node name="Edge Back" type="TileMapLayer" parent="TileMap"]
z_index = -1
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAA4AAAAAAAAAAAAAAA8AAAAAAAAAAAABAAAAAAAAAAAAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAGAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAPAAEAAAAAAAAAAAAPAAIAAAAAAAAAAAAPAAMAAAAAAAAAAAAPAAQAAAAAAAAAAAAPAAUAAAAAAAAAAAAPAAYAAAAAAAAAAAAPAAcAAAAAAAAAAAAPAAgAAAAAAAAAAAAPAAkAAAAAAAAAAAAPAAoAAAAAAAAAAAAPAAsAAAAAAAAAAAAPAAwAAAAAAAAAAAAPAA0AAAAAAAAAAAAPAA4AAAAAAAAAAAAPAA8AAAAAAAAAAAABAA8AAAAAAAAAAAACAA8AAAAAAAAAAAADAA8AAAAAAAAAAAAEAA8AAAAAAAAAAAAFAA8AAAAAAAAAAAAGAA8AAAAAAAAAAAAHAA8AAAAAAAAAAAAIAA8AAAAAAAAAAAAJAA8AAAAAAAAAAAAKAA8AAAAAAAAAAAALAA8AAAAAAAAAAAAMAA8AAAAAAAAAAAANAA8AAAAAAAAAAAAOAA8AAAAAAAAAAAA=")
tile_set = SubResource("TileSet_w2j1e")

[node name="Edge Top" type="TileMapLayer" parent="TileMap"]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAAAAQAAAAAAAAAAAAEAAQAAAAAAAAAAAAIAAQAAAAAAAAAAAAMAAQAAAAAAAAAAAAQAAQAAAAAAAAAAAAUAAQAAAAAAAAAAAAYAAQAAAAAAAAAAAAcAAQAAAAAAAAAAAAgAAQAAAAAAAAAAAAkAAQAAAAAAAAAAAAoAAQAAAAAAAAAAAAsAAQAAAAAAAAAAAAwAAQAAAAAAAAAAAA0AAQAAAAAAAAAAAA4AAQAAAAAAAAAAAA8AAQAAAAAAAAABAAAAAQAAAAAAAAACAAAAAQAAAAAAAAADAAAAAQAAAAAAAAAEAAAAAQAAAAAAAAAFAAAAAQAAAAAAAAAGAAAAAQAAAAAAAAAHAAAAAQAAAAAAAAAIAAAAAQAAAAAAAAAJAAAAAQAAAAAAAAAKAAAAAQAAAAAAAAALAAAAAQAAAAAAAAAMAAAAAQAAAAAAAAANAAAAAQAAAAAAAAAOAAAAAQAAAAAAAAAPAAAAAQAAAAAAAAAPAAEAAQAAAAAAAAAPAAIAAQAAAAAAAAAPAAMAAQAAAAAAAAAPAAQAAQAAAAAAAAAPAAUAAQAAAAAAAAAPAAYAAQAAAAAAAAAPAAcAAQAAAAAAAAAPAAgAAQAAAAAAAAAPAAkAAQAAAAAAAAAPAAoAAQAAAAAAAAAPAAsAAQAAAAAAAAAPAAwAAQAAAAAAAAAPAA0AAQAAAAAAAAAPAA4AAQAAAAAAAAAPAA8AAQAAAAAAAAABAA8AAQAAAAAAAAACAA8AAQAAAAAAAAADAA8AAQAAAAAAAAAEAA8AAQAAAAAAAAAFAA8AAQAAAAAAAAAGAA8AAQAAAAAAAAAHAA8AAQAAAAAAAAAIAA8AAQAAAAAAAAAJAA8AAQAAAAAAAAAKAA8AAQAAAAAAAAALAA8AAQAAAAAAAAAMAA8AAQAAAAAAAAANAA8AAQAAAAAAAAAOAA8AAQAAAAAAAAA=")
tile_set = SubResource("TileSet_w2j1e")

[node name="Object" type="TileMapLayer" parent="TileMap"]
use_parent_material = true
tile_set = SubResource("TileSet_w2j1e")

[node name="Edge" type="StaticBody2D" parent="."]
collision_mask = 0

[node name="Top" type="CollisionShape2D" parent="Edge"]
position = Vector2(269, 23)
shape = SubResource("WorldBoundaryShape2D_bd05x")

[node name="Bottom" type="CollisionShape2D" parent="Edge"]
position = Vector2(262, 493)
shape = SubResource("WorldBoundaryShape2D_u7ry1")

[node name="Left" type="CollisionShape2D" parent="Edge"]
position = Vector2(8, 237)
shape = SubResource("WorldBoundaryShape2D_6vmih")

[node name="Right" type="CollisionShape2D" parent="Edge"]
position = Vector2(492, 243)
shape = SubResource("WorldBoundaryShape2D_842i1")

[node name="Floor" type="Sprite2D" parent="."]
z_index = -1
texture_repeat = 2
position = Vector2(32, 34)
texture = ExtResource("7_kxa54")
centered = false
region_enabled = true
region_rect = Rect2(0, 0, 32, 32)

[node name="AnimationPlayer" type="AnimationPlayer" parent="Floor"]
libraries = {
"": SubResource("AnimationLibrary_02ve3")
}
autoplay = "floor animation"
